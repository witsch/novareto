Do a functional doctest test for viewlet managers.
==================================================

:Test-Layer: functional

Let's first create an instance of Uvcsite at the top level:


   >>> import grok
   >>> from persistent import Persistent
 
   >>> from zope.app.container import btree
   >>> class Uvcsite(btree.BTreeContainer):
   ...     """Sample container."""
   ...     __name__ = u'container'


   >>> class Index(grok.View):
   ...    grok.context(Uvcsite)
   ...    def render(self):
   ...        return "klaus"

   >>> from grokcore.component.testing import grok_component

   >>> grok_component('Index', Index)
   True


   >>> root = getRootFolder()
   >>> uvcsite = Uvcsite()
   >>> root['app'] = uvcsite

Create some context for the ViewletManager

   >>> from zope.publisher.browser import TestRequest
   >>> request = TestRequest()
   >>> from zope import component
   >>> view = component.getMultiAdapter((uvcsite, request), name='index')
   >>> from zope.contentprovider.interfaces import IContentProvider


Footer
------

Let´s call the Viewlet uvcsite.footer

   >>> mgr = component.getMultiAdapter((uvcsite, request, view), IContentProvider,
   ...   'uvcsite.footer')
   >>> mgr
   <uvc.layout.menus.Footer object at ...>

Does the viewlet manager provide the right interfce IFooter?

   >>> from uvc.layout.interfaces import IFooter
   >>> IFooter.providedBy(mgr)
   True

GlobalMenu
----------

Let´s call the Viewlet uvcsite.globalmenu

   >>> mgr = component.getMultiAdapter((uvcsite, request, view), IContentProvider,
   ...   'uvc.global.menu')
   >>> mgr
   <uvc.layout.menus.GlobalMenu object at ...>

Does the viewlet manager provide the right interfce IGlobalMenu?

   >>> from uvc.layout.interfaces import IGlobalMenu
   >>> IGlobalMenu.providedBy(mgr)
   True


Document Actions
----------------

Let´s call the Viewlet uvcsite.documentactions

   >>> mgr = component.getMultiAdapter((uvcsite, request, view), IContentProvider,
   ...   'uvc.user.documentactions')
   >>> mgr
   <uvc.layout.menus.DocumentActionsMenu object at ...>

Does the viewlet manager provide the right interfce IBreadcrumb?

   >>> from uvc.layout.interfaces import IDocumentActions
   >>> IDocumentActions.providedBy(mgr)
   True
